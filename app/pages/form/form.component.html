<div class="container">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<h2>Form Validation</h2>
			<form #formData="ngForm" (ngSubmit)="onSubmit(formData.value)" novalidate>
				<div class="form-group">
					<label>Name</label>
					<input type="text" #nameRef="ngModel" maxlength="10" minlength="4" required name="name" class="form-control" ngModel />
					<div *ngIf="nameRef.errors && (nameRef.dirty || nameRef.touched)" class="alert alert-danger">
						<div [hidden]="!nameRef.errors.required">
							Please enter a name
						</div>
						<div [hidden]="!nameRef.errors.minlength">
							Please enter at least 4 characters
						</div>
						<div [hidden]="!nameRef.errors.maxlength">
							Please enter a maximum of 10 characters
						</div>
					</div>
				</div>
				<div class="form-group">
					<label>Email</label>
					<input type="email" #emailRef="ngModel" required pattern="^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$" name="email" class="form-control" ngModel />
					<div *ngIf="emailRef.errors && (emailRef.dirty || emailRef.touched)" class="alert alert-danger">
						<div [hidden]="!emailRef.errors.required">
							Please enter an email
						</div>
						<div [hidden]="!emailRef.errors.pattern">
							Please enter an valid email
						</div>
					</div>
				</div>
				<div ngModelGroup="address">
					<div class="form-group">
						<label>Street</label>
						<input type="text" #streetRef="ngModel" required name="street" class="form-control" ngModel />
						<div *ngIf="streetRef.errors && (streetRef.dirty || streetRef.touched)" class="alert alert-danger">
							<div [hidden]="!streetRef.errors.required">
								Please enter a street
							</div>
						</div>
					</div>
					<div class="form-group">
						<label>City</label>
						<input type="text" #cityRef="ngModel" required name="city" class="form-control" ngModel />
						<div *ngIf="cityRef.errors && (cityRef.dirty || cityRef.touched)" class="alert alert-danger">
							<div [hidden]="!cityRef.errors.required">
								Please enter a city
							</div>
						</div>
					</div>
					<div class="form-group">
						<label>Postal Code</label>
						<input type="text" #postalCodeRef="ngModel" required pattern="^[1-9][0-9]{4}$" name="postalCode" class="form-control" ngModel />
						<div *ngIf="postalCodeRef.errors && (postalCodeRef.dirty || postalCodeRef.touched)" class="alert alert-danger">
							<div [hidden]="!postalCodeRef.errors.required">
								Please enter an postal code number
							</div>
							<div [hidden]="!postalCodeRef.errors.pattern">
								Please enter a five digits number
							</div>
						</div>
					</div>
				</div>
				<input type="file" (change)="readUrl($event)" name="file" />
				<img [src]="previewImage" style="width: 200px;height: 150px;margin-top: 10px;">
				<br><br>
				<div class="form-group">
					<button [disabled]="!formData.form.valid" type="submit" class="btn btn-primary">Submit</button>
					<button type="reset" class="btn btn-default">Cancel</button>
				</div>
			</form>
		</div>
	</div>
</div>